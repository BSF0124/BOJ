# [Gold II] 대표 선수 - 2461 

[문제 링크](https://www.acmicpc.net/problem/2461) 

### 성능 요약

메모리: 14440 KB, 시간: 204 ms

### 분류

자료 구조, 정렬, 우선순위 큐, 두 포인터

### 제출 일자

2025년 6월 3일 14:17:50

### 문제 설명

<p>KOI 중학교에는 N개의 학급이 있으며, 각 학급의 학생 수는 모두 M명으로 구성된다. 이 중학교에서는 체육대회에 새로운 종목의 경기를 추가하였다. 이 경기에 대해 모든 학생들은 저마다의 능력을 나타내는 능력치를 가지고 있으며, 이 능력치는 모든 학생이 서로 다르다.</p>

<p>이 경기는 한반에서 한 명의 대표선수를 선발하여 치른다. 경기의 형평성을 위하여, 각각의 반에서 대표로 선발된 모든 학생들의 능력치 중 최댓값과 최솟값의 차이가 최소가 되도록 선수를 선발하려고 한다. 예를 들어, N=3, M=4인 경우 학생들의 능력치가 1반=[12, 16, 67, 43],  2반=[7, 17, 68, 48], 3반=[14, 15, 77, 54]로 주어질 때, 각 학급으로부터 능력치 16, 17, 15를 가진 학생을 각각 선택하면, 최댓값과 최솟값의 차이가 17-15=2로 최소가 된다. </p>

<p>대표로 선발된 모든 학생들 능력치의 최댓값과 최솟값 차이가 최소가 되는 경우의 값을 출력하는 프로그램을 작성하시오.</p>

### 입력 

 <p>입력의 첫 번째 줄에는 학급의 수를 나타내는 N과 각 학급의 학생의 수를 나타내는 M이 하나의 빈칸을 사이에 두고 주어진다. 단, 1 ≤ N, M ≤ 1,000이다. 두 번째 줄부터 N개의 줄에는 각 줄마다 한 학급 학생들의 능력치를 나타내는 M개의 양의 정수가 하나의 빈칸을 사이에 두고 주어진다. 능력치는 0이상 10<sup>9</sup>이하이다.</p>

### 출력 

 <p>대표로 선발된 모든 학생들 능력치의 최댓값과 최솟값 차이가 최소가 되는 경우의 값을 하나의 정수로 출력한다.</p>

---

# 💡 문제 접근

이 문제는 각 반에서 대표 한 명씩을 골라야 하므로 **N개의 서로 다른 반에서 최소 하나씩 포함된 부분 구간**을 찾아야 한다.

즉, "모든 반이 포함된 가장 좁은 구간"을 찾는 문제로 바꿀 수 있다.

이를 해결하기 위해선:

- 모든 학생들을 능력치 기준으로 정렬하고,
- 각 학생이 어느 반에 속했는지를 함께 기록한 후,
- **슬라이딩 윈도우**를 사용해 "N개의 반이 모두 포함된 구간"을 찾는다.

이때 구간 내에서 **최대값 - 최소값**을 갱신하며 **최솟값**을 기록하면 된다.

---

# 🧩 풀이 방식

### ✅ 1. 입력을 (반 번호, 능력치값) 쌍으로 저장

- 각 반의 학생들을 입력받으면서 `(반 인덱스, 능력치)` 형태로 벡터에 저장한다.

### ✅ 2. 실력 기준으로 정렬

- 전체 학생들을 능력치 기준으로 오름차순 정렬한다.

### ✅ 3. 슬라이딩 윈도우로 모든 반이 포함된 최소 구간 탐색

- `st`, `en` 포인터로 구간을 유지하면서,
- 해당 구간에 **모든 반이 최소 하나씩 포함될 때까지 확장**하고,
- 포함되면 *구간의 능력치차(`v[en-1].second - v[st].second`)*를 비교하여 최솟값을 갱신한다.
- 구간에서 한 명을 제거했을 때 반이 빠지면 다시 확장.

---

# 🧠 시간 복잡도

| 단계 | 설명 | 시간복잡도 |
| --- | --- | --- |
| 정렬 | 실력 기준 정렬 | O(NM log NM) |
| 투 포인터 탐색 | 각 학생에 대해 최대 2번씩 접근 | O(NM) |
| 전체 | 정렬 + 탐색 | **O(NM log NM)** |
